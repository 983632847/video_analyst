task_name: "track"
track:
  exp_name: "siamfcpp_alexnet"
  exp_save: "logs"
  model:
    backbone:
      name: "AlexNet"
      AlexNet:
        pretrain_model_path: ""
    losses:
      names: []
    task_head:
      name: "DenseboxHead"
      DenseboxHead:
        total_stride: 8
        score_size: 17
        x_size: 303
        num_conv3x3: 3
        head_conv_bn: [False, False, True]
    task_model:
      name: "SiamTrack"
      SiamTrack:
        pretrain_model_path: "models/siamfcpp/siamfcpp-alexnet-vot-md5_18fd31a2f94b0296c08fff9b0f9ad240.pkl"
  pipeline:
    name: "SiamFCppTracker"
    SiamFCppTracker:
      test_lr: 0.52
      window_influence: 0.21
      penalty_k: 0.04
      num_conv3x3: 3
  tester:
    names: ["VOTTester",]
    VOTTester:
      device_num: 1
      dataset_names: ["VOT2018"]
train:
  exp_name: "siamfcpp_alexnet"
  exp_save: "logs"
  model:
    backbone:
      name: "AlexNet"
      AlexNet:
        pretrain_model_path: ""
    losses:
      names: ["SigmoidCrossEntropyRetina",
              "SigmoidCrossEntropyCenterness", 
              "IOULoss",]
      SigmoidCrossEntropyRetina: 
        weight: 1
        alpha: 0.25
        gamma: 2.0
      SigmoidCrossEntropyCenterness: 
        weight: 1
      IOULoss: 
        weight: 3
    task_head:
      name: "DenseboxHead"
      DenseboxHead:
        total_stride: 8
        score_size: 17
        x_size: 303
        num_conv3x3: 3
        head_conv_bn: [False, False, True]
    task_model:
      name: "SiamTrack"
      SiamTrack:
        pretrain_model_path: ""
  data:
    num_epochs: 10000
    minibatch: 32
    num_workers: 4
    nr_image_per_epoch: 600000
    datapipeline:
      name: "RegularDatapipeline"
    sampler:
      name: "TrackPairSampler"
      TrackPairSampler:
        negative_pair_ratio: 0.1
      submodules:
        filter:
          name: "TrackPairFilter"
          TrackPairFilter:
            []
        dataset:
          names: ["GOT10kDataset",]
          GOT10kDataset: 
            ratio: 1
            max_diff: 100
            dataset_root: "datasets/GOT-10k"
            subset: "train"
    transformer:
      names: ["RandomCropTransformer", ]
      RandomCropTransformer:
        max_scale: 0.3
        max_shift: 0.4
        x_size: 303
    target:
      name: "DenseboxTarget"
      DenseboxTarget:
        total_stride: 8
        score_size: 17
        x_size: 303
        num_conv3x3: 3
  trainer:
    name: "RegularTrainer"
    RegularTrainer:
      devices: ["cuda:0"]
      max_epoch: 20
      num_iterations: 12500
  optimizer:
    name: "SGD"
    SGD:
      lr: 0.1
      momentum: 0.9
      weight_decay: 0.00005
    freeze_scheduler:
      isConv: "conv.\.conv.*"
        regex:
        epoch: 0
        freezed: True
      isConv5:
        regex: "conv5\.conv.*"
        epoch: 5
        freezed: False
      isConv4:
        regex: "conv4\.conv.*"
        epoch: 10
        freezed: False
      isConv3:
        regex: "conv3\.conv.*"
        epoch: 15
        freezed: False
    lr_scheduler:
      phase-0:
        name: "LinearLR"
        LinearLR: 
          start_lr: 0.000001 # lr_min 
          end_lr: 0.04 # lr_base,
          max_epoch: 5 # warmup_epoch, 
          max_iter: 12500 # max_iter
      phase-1:
        name: "CosineLR"
        CosineLR:
          start_lr: 0.04 # lr_min 
          end_lr: 0.000001 # lr_base,
          max_epoch: 15 # warmup_epoch, 
          max_iter: 12500 # max_iter
    lr_multiplier:
      backbone:
        filter: ""
        ratio: 0.1
      other: 
        filter: ""
        ratio: 1

